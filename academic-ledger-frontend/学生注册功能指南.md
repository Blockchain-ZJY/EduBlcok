# 学生注册功能使用指南

## 🎓 新增功能：学生注册

现在系统已经添加了学生注册功能！学生地址不再只是简单的以太坊地址，而是可以在系统中注册的正式学生身份。

## 🆕 新增功能

### 智能合约层面
- **学生数据结构**：包含姓名、学号、元数据、状态和注册时间
- **学生注册函数**：管理员可以注册学生
- **学生状态管理**：可以启用/停用学生账户
- **学生信息查询**：可以查询学生的详细信息

### 前端界面
- **注册学生按钮**：新增的紫色"注册学生"按钮
- **学生信息管理**：可以查看和管理学生信息

## 🛠️ 如何使用学生注册功能

### 第一步：准备学生地址
1. **使用 MetaMask 创建新账户**（如"张三"）
2. **复制学生地址**（以 `0x` 开头的42位字符串）
3. **确保账户有测试币**（用于支付交易费用）

### 第二步：注册学生
1. **使用管理员账户连接系统**
2. **点击"注册学生"按钮**
3. **输入信息**：
   - 学生地址：刚才创建的学生地址
   - 学生姓名：如"张三"
   - 学号：如"2023001"
   - 学生元数据：可选，如 `{"major":"计算机科学","class":"2023级"}`
4. **确认交易**

### 第三步：验证注册
1. **切换到学生账户**
2. **连接系统**
3. **查看学生信息**（如果系统支持）

## 📋 学生注册信息

### 必填信息
- **学生地址**：以太坊地址
- **学生姓名**：真实姓名
- **学号**：唯一标识符

### 可选信息
- **元数据**：JSON格式的额外信息
  ```json
  {
    "major": "计算机科学",
    "class": "2023级",
    "email": "zhangsan@example.com",
    "phone": "13800138000"
  }
  ```

## 🎯 学生注册的优势

### 身份验证
- **真实身份**：确保学生身份的真实性
- **学号关联**：学号与区块链地址绑定
- **防伪验证**：防止虚假学生地址

### 权限管理
- **状态控制**：可以启用/停用学生账户
- **权限验证**：系统可以验证学生注册状态
- **数据统计**：统计注册学生数量

### 功能扩展
- **证书管理**：注册学生可以更好地管理证书
- **查询优化**：可以按学生信息查询证书
- **审计追踪**：完整的注册和活动记录

## 🔄 完整工作流程

### 管理员操作
1. **注册院校**：注册教育机构
2. **注册学生**：注册学生账户
3. **颁发证书**：为注册学生颁发证书

### 学生操作
1. **接收证书**：自动接收院校颁发的证书
2. **查询证书**：查看自己的所有证书
3. **验证证书**：验证证书的真实性

## ⚠️ 重要注意事项

1. **权限要求**：只有管理员可以注册学生
2. **唯一性**：每个地址只能注册一个学生
3. **状态管理**：学生账户可以被启用/停用
4. **数据持久性**：学生信息永久存储在区块链上
5. **费用**：注册需要支付网络费用

## 🚀 现在开始使用

1. **重新部署合约**（如果已部署）：
   ```bash
   forge script script/DeployAcademicLedger.sol:DeployAcademicLedger --rpc-url <RPC_URL> --private-key <PRIVATE_KEY> --broadcast
   ```

2. **更新前端配置**：
   - 更新合约地址
   - 重新启动前端应用

3. **开始注册学生**：
   - 使用管理员账户
   - 点击"注册学生"按钮
   - 填写学生信息

## 📊 系统功能对比

| 功能 | 院校 | 学生 |
|------|------|------|
| 注册要求 | 需要管理员注册 | 需要管理员注册 |
| 主要功能 | 颁发证书、管理证书 | 接收证书、查询证书 |
| 权限级别 | INSTITUTION_ROLE | 无特殊角色 |
| 状态管理 | 可启用/停用 | 可启用/停用 |
| 元数据 | 院校信息 | 学生信息 |

现在您有了完整的学生注册功能！学生不再是简单的地址，而是可以在系统中正式注册和管理的身份。
